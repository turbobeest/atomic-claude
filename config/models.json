{
  "providers": {
    "claude_local_path": "../claude-local",
    "default_provider": "max",
    "role_routing": {
      "primary": "max",
      "fast": "ollama",
      "gardener": "ollama",
      "heavyweight": "max"
    },
    "ollama": {
      "enabled": true,
      "host": "http://localhost:11434",
      "default_model": "devstral:24b",
      "context_length": 32768
    },
    "api": {
      "enabled": true,
      "default_model": "sonnet"
    },
    "max": {
      "enabled": true,
      "default_model": "sonnet"
    }
  },
  "models": {
    "claude": {
      "opus": {
        "context_window": 200000,
        "cost_tier": "high",
        "capabilities": ["reasoning", "code", "analysis", "creative"],
        "provider": "max"
      },
      "sonnet": {
        "context_window": 200000,
        "cost_tier": "medium",
        "capabilities": ["reasoning", "code", "analysis"],
        "provider": "max"
      },
      "haiku": {
        "context_window": 200000,
        "cost_tier": "low",
        "capabilities": ["fast", "simple", "extraction"],
        "provider": "api"
      }
    },
    "ollama": {
      "llama3.1:8b": {
        "context_window": 128000,
        "cost_tier": "free",
        "capabilities": ["reasoning", "code"]
      },
      "llama3.1:70b": {
        "context_window": 128000,
        "cost_tier": "free",
        "capabilities": ["reasoning", "code", "analysis"]
      },
      "llama3.2:3b": {
        "context_window": 128000,
        "cost_tier": "free",
        "capabilities": ["fast", "simple"]
      },
      "mistral:7b": {
        "context_window": 32000,
        "cost_tier": "free",
        "capabilities": ["fast", "code"]
      },
      "mixtral:8x7b": {
        "context_window": 32000,
        "cost_tier": "free",
        "capabilities": ["reasoning", "code"]
      },
      "codellama:13b": {
        "context_window": 16000,
        "cost_tier": "free",
        "capabilities": ["code"]
      },
      "codellama:34b": {
        "context_window": 16000,
        "cost_tier": "free",
        "capabilities": ["code", "analysis"]
      },
      "phi3:medium": {
        "context_window": 128000,
        "cost_tier": "free",
        "capabilities": ["fast", "reasoning"]
      },
      "phi3:mini": {
        "context_window": 128000,
        "cost_tier": "free",
        "capabilities": ["fast", "simple"]
      },
      "deepseek-coder:6.7b": {
        "context_window": 16000,
        "cost_tier": "free",
        "capabilities": ["code"]
      },
      "deepseek-coder:33b": {
        "context_window": 16000,
        "cost_tier": "free",
        "capabilities": ["code", "analysis"]
      },
      "qwen2:7b": {
        "context_window": 32000,
        "cost_tier": "free",
        "capabilities": ["reasoning", "code"]
      },
      "qwen2:72b": {
        "context_window": 32000,
        "cost_tier": "free",
        "capabilities": ["reasoning", "code", "analysis"]
      },
      "gemma2:9b": {
        "context_window": 8000,
        "cost_tier": "free",
        "capabilities": ["fast", "reasoning"]
      },
      "gemma2:27b": {
        "context_window": 8000,
        "cost_tier": "free",
        "capabilities": ["reasoning", "code"]
      }
    }
  },
  "roles": {
    "primary": "Main workhorse model for complex tasks (PRD authoring, code generation)",
    "fast": "Quick/cheap model for simple tasks, pre-flight checks, validation",
    "gardener": "Context maintenance agent for adjudication, summarization, compression"
  },
  "defaults": {
    "primary": "sonnet",
    "fast": "haiku",
    "gardener": "haiku"
  },
  "tier_mapping": {
    "_comment": "Maps Claude model tiers to Ollama equivalents for airgapped/offline mode",
    "opus": {
      "description": "Highest capability - complex reasoning, architecture, critical decisions",
      "claude_model": "claude-opus-4-5-20251101",
      "ollama_fallbacks": ["llama3.1:70b", "qwen2:72b", "mixtral:8x7b", "llama3.1:8b"],
      "min_context": 32000,
      "required_capabilities": ["reasoning", "analysis"]
    },
    "sonnet": {
      "description": "Balanced - PRD authoring, code generation, analysis",
      "claude_model": "claude-sonnet-4-20250514",
      "ollama_fallbacks": ["devstral:24b", "llama3.1:70b", "codellama:34b", "qwen2:7b", "llama3.1:8b"],
      "min_context": 16000,
      "required_capabilities": ["code"]
    },
    "haiku": {
      "description": "Fast/cheap - validation, extraction, summarization",
      "claude_model": "claude-haiku-3-5-20241022",
      "ollama_fallbacks": ["llama3.2:3b", "phi3:mini", "gemma2:9b", "mistral:7b"],
      "min_context": 8000,
      "required_capabilities": ["fast"]
    }
  },
  "fallback_behavior": {
    "enabled": true,
    "auto_detect_offline": true,
    "offline_detection_timeout": 5,
    "prefer_local_when_available": false,
    "log_fallback_events": true
  }
}
